<!-- Container pour les notifications toast -->
<div id="toast-container" style="position: fixed; top: 20px; right: 20px; z-index: 9999; display: flex; flex-direction: column; gap: 10px; max-width: 400px;"></div>

<style>
.toast {
  padding: 1rem 1.5rem;
  border-radius: 8px;
  box-shadow: 0 4px 12px rgba(0,0,0,0.15);
  display: flex;
  align-items: center;
  gap: 1rem;
  min-width: 300px;
  animation: slideInRight 0.3s ease-out;
  position: relative;
  overflow: hidden;
}

.toast::before {
  content: '';
  position: absolute;
  left: 0;
  top: 0;
  bottom: 0;
  width: 4px;
}

.toast-success {
  background: var(--success-light);
  color: var(--success-dark);
  border: 1px solid var(--success-border);
}

.toast-success::before {
  background: var(--success-color);
}

.toast-error {
  background: var(--danger-light);
  color: var(--danger-dark);
  border: 1px solid var(--danger-border);
}

.toast-error::before {
  background: var(--danger-color);
}

.toast-warning {
  background: var(--warning-light);
  color: var(--warning-dark);
  border: 1px solid var(--warning-border);
}

.toast-warning::before {
  background: var(--warning-color);
}

.toast-info {
  background: var(--info-light);
  color: var(--info-dark);
  border: 1px solid var(--info-border);
}

.toast-info::before {
  background: var(--info-color);
}

.toast-icon {
  font-size: 1.5rem;
  line-height: 1;
}

.toast-content {
  flex: 1;
  display: flex;
  flex-direction: column;
  gap: 0.25rem;
}

.toast-title {
  font-weight: 600;
  font-size: 0.95rem;
}

.toast-message {
  font-size: 0.875rem;
  opacity: 0.9;
}

.toast-close {
  background: none;
  border: none;
  font-size: 1.5rem;
  cursor: pointer;
  opacity: 0.6;
  transition: opacity 0.2s;
  padding: 0;
  width: 24px;
  height: 24px;
  display: flex;
  align-items: center;
  justify-content: center;
}

.toast-close:hover {
  opacity: 1;
}

@keyframes slideInRight {
  from {
    transform: translateX(400px);
    opacity: 0;
  }
  to {
    transform: translateX(0);
    opacity: 1;
  }
}

@keyframes slideOutRight {
  from {
    transform: translateX(0);
    opacity: 1;
  }
  to {
    transform: translateX(400px);
    opacity: 0;
  }
}

.toast.removing {
  animation: slideOutRight 0.3s ease-out forwards;
}
</style>

<script>
/**
 * Affiche une notification toast
 * @param {string} message - Message à afficher
 * @param {string} type - Type de notification (success, error, warning, info)
 * @param {string} title - Titre optionnel
 * @param {number} duration - Durée d'affichage en ms (0 = permanent)
 */
function showToast(message, type = 'info', title = null, duration = 5000) {
  const container = document.getElementById('toast-container');
  if (!container) return;
  
  const toast = document.createElement('div');
  toast.className = `toast toast-${type}`;
  
  // Icônes selon le type
  const icons = {
    success: '✅',
    error: '❌',
    warning: '⚠️',
    info: 'ℹ️'
  };
  
  // Titres par défaut
  const defaultTitles = {
    success: 'Succès',
    error: 'Erreur',
    warning: 'Attention',
    info: 'Information'
  };
  
  const icon = icons[type] || icons.info;
  const toastTitle = title || defaultTitles[type];
  
  toast.innerHTML = `
    <div class="toast-icon">${icon}</div>
    <div class="toast-content">
      <div class="toast-title">${toastTitle}</div>
      <div class="toast-message">${message}</div>
    </div>
    <button class="toast-close" onclick="removeToast(this.parentElement)">×</button>
  `;
  
  container.appendChild(toast);
  
  // Auto-suppression après duration
  if (duration > 0) {
    setTimeout(() => {
      removeToast(toast);
    }, duration);
  }
}

/**
 * Supprime une notification toast
 */
function removeToast(toast) {
  if (!toast) return;
  
  toast.classList.add('removing');
  setTimeout(() => {
    toast.remove();
  }, 300);
}

/**
 * Raccourcis pour les types courants
 */
function showSuccess(message, title = null, duration = 4000) {
  showToast(message, 'success', title, duration);
}

function showError(message, title = null, duration = 6000) {
  showToast(message, 'error', title, duration);
}

function showWarning(message, title = null, duration = 5000) {
  showToast(message, 'warning', title, duration);
}

function showInfo(message, title = null, duration = 4000) {
  showToast(message, 'info', title, duration);
}
</script>


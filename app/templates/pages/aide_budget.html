{% extends "layouts/base.html" %}
{% from 'components/page_header.html' import page_header %}

{% block title %}Aide - Gestion Budget{% endblock %}

{% block content %}
{{ page_header(
    title='â“ Aide - Gestion Budget',
    breadcrumbs=[
        {'name': 'Accueil', 'url': url_for('accueil')},
        {'name': 'Budget', 'url': url_for('budget_home')},
        {'name': 'Aide'}
    ],
    actions=[
        {'label': 'â† Retour', 'url': url_for('budget_home'), 'primary': False}
    ]
) }}

<div class="help-container" style="max-width: 1200px; margin: 0 auto; padding: 2rem;">
    
    <!-- Introduction -->
    <div class="card" style="margin-bottom: 2rem; background: linear-gradient(135deg, #fef3c7 0%, #fde68a 100%); border-left: 4px solid #f59e0b;">
        <h2 style="color: #92400e; margin-bottom: 1rem;">ğŸ’° SystÃ¨me de Gestion BudgÃ©taire</h2>
        <p style="color: #78350f; line-height: 1.8; font-size: 1.05rem;">
            Le module Budget permet de gÃ©rer l'ensemble du cycle budgÃ©taire : 
            Ã©laboration des fiches techniques, suivi de l'exÃ©cution, intÃ©gration SIGOBE et rapports financiers.
        </p>
    </div>

    <!-- Fiches Techniques -->
    <div class="card" style="margin-bottom: 2rem;">
        <h3 style="color: #1f2937; margin-bottom: 1.5rem;">ğŸ“Š Fiches Techniques BudgÃ©taires</h3>
        
        <h4 style="color: #4b5563; margin-bottom: 1rem;">Structure d'une fiche</h4>
        <div style="background: #f8f9fa; padding: 1.5rem; border-radius: 8px; margin-bottom: 1.5rem;">
            <ul style="line-height: 2; color: #374151;">
                <li><strong>Programme :</strong> Niveau stratÃ©gique (ex: ADMIN, EDUC)</li>
                <li><strong>Actions :</strong> DÃ©clinaison du programme</li>
                <li><strong>Lignes budgÃ©taires :</strong> DÃ©tail des dÃ©penses par nature</li>
                <li><strong>Montants :</strong> AE (Autorisations d'Engagement) et CP (CrÃ©dits de Paiement)</li>
            </ul>
        </div>
        
        <h4 style="color: #4b5563; margin-bottom: 1rem;">â• CrÃ©er une fiche technique</h4>
        <ol style="line-height: 1.8; color: #374151;">
            <li>Cliquer sur <strong>"â• Nouvelle Fiche"</strong></li>
            <li>SÃ©lectionner :
                <ul>
                    <li>AnnÃ©e budgÃ©taire</li>
                    <li>Programme</li>
                    <li>Phase (Ã‰laboration, ExÃ©cution, ClÃ´ture)</li>
                </ul>
            </li>
            <li>Ajouter des lignes budgÃ©taires avec les montants</li>
            <li>Joindre des documents justificatifs (optionnel)</li>
            <li>Enregistrer comme brouillon ou soumettre pour validation</li>
        </ol>
        
        <div style="background: #dbeafe; padding: 1rem; border-radius: 8px; border-left: 4px solid #3b82f6; margin-top: 1rem;">
            <p style="margin: 0; color: #1e40af;">
                <strong>ğŸ’¡ Astuce :</strong> Utilisez le filtre par annÃ©e et programme pour retrouver rapidement vos fiches.
            </p>
        </div>
    </div>

    <!-- Module SIGOBE -->
    <div class="card" style="margin-bottom: 2rem;">
        <h3 style="color: #1f2937; margin-bottom: 1.5rem;">ğŸ”„ IntÃ©gration SIGOBE</h3>
        
        <p style="color: #4b5563; line-height: 1.8; margin-bottom: 1rem;">
            SIGOBE (SystÃ¨me IntÃ©grÃ© de Gestion des OpÃ©rations BudgÃ©taires de l'Ã‰tat) est le systÃ¨me national 
            de gestion budgÃ©taire. L'intÃ©gration permet d'importer et analyser les donnÃ©es d'exÃ©cution.
        </p>
        
        <h4 style="color: #4b5563; margin-bottom: 1rem;">ğŸ“¤ Charger un fichier SIGOBE</h4>
        <ol style="line-height: 1.8; color: #374151;">
            <li>Aller dans <strong>"Budget â†’ SIGOBE"</strong></li>
            <li>Cliquer sur <strong>"ğŸ“¤ Charger un fichier"</strong></li>
            <li>SÃ©lectionner :
                <ul>
                    <li>AnnÃ©e d'exÃ©cution</li>
                    <li>Trimestre (optionnel)</li>
                    <li>Fichier Excel (.xlsx ou .xls)</li>
                </ul>
            </li>
            <li>Le systÃ¨me analyse automatiquement le fichier</li>
            <li>VÃ©rifier la prÃ©visualisation (colonnes, programmes, actions)</li>
            <li>Confirmer l'import</li>
        </ol>
        
        <h4 style="color: #4b5563; margin: 1.5rem 0 1rem 0;">ğŸ“Š Actions disponibles</h4>
        <ul style="line-height: 1.8; color: #374151;">
            <li><strong>ğŸ“‹ Voir la table :</strong> Affichage complet des donnÃ©es importÃ©es</li>
            <li><strong>ğŸ“Š Exporter Excel :</strong> TÃ©lÃ©charger les donnÃ©es au format Excel</li>
            <li><strong>ğŸ“ˆ Voir les KPIs :</strong> Statistiques et indicateurs budgÃ©taires</li>
            <li><strong>ğŸ—‘ï¸ Supprimer :</strong> Effacer un chargement (avec confirmation)</li>
        </ul>
        
        <div style="background: #fee2e2; padding: 1rem; border-radius: 8px; border-left: 4px solid #dc3545; margin-top: 1rem;">
            <p style="margin: 0; color: #991b1b;">
                <strong>âš ï¸ Format requis :</strong> Le fichier Excel doit respecter le format SIGOBE standard 
                avec les colonnes obligatoires (Programmes, Actions, Rprog, Type_depense, etc.).
            </p>
        </div>
    </div>

    <!-- Rapports et Export -->
    <div class="card" style="margin-bottom: 2rem;">
        <h3 style="color: #1f2937; margin-bottom: 1.5rem;">ğŸ“ˆ Rapports et Exports</h3>
        
        <h4 style="color: #4b5563; margin-bottom: 1rem;">Types de rapports disponibles</h4>
        <div style="display: grid; gap: 1rem;">
            <div style="padding: 1rem; background: #f0f9ff; border-left: 4px solid #0ea5e9; border-radius: 8px;">
                <h5 style="color: #0369a1; margin-bottom: 0.5rem;">ğŸ“Š Rapport d'ExÃ©cution</h5>
                <p style="color: #075985; margin: 0;">
                    Suivi dÃ©taillÃ© de l'exÃ©cution budgÃ©taire par programme, avec taux de consommation.
                </p>
            </div>
            
            <div style="padding: 1rem; background: #f0fdf4; border-left: 4px solid #10b981; border-radius: 8px;">
                <h5 style="color: #065f46; margin-bottom: 0.5rem;">ğŸ’¹ Analyse de Performance</h5>
                <p style="color: #064e3b; margin: 0;">
                    Comparaison prÃ©visions vs rÃ©alisations, identification des Ã©carts.
                </p>
            </div>
            
            <div style="padding: 1rem; background: #fef3c7; border-left: 4px solid #f59e0b; border-radius: 8px;">
                <h5 style="color: #92400e; margin-bottom: 0.5rem;">ğŸ“‰ Tableau de Bord</h5>
                <p style="color: #78350f; margin: 0;">
                    Vue synthÃ©tique avec KPIs principaux et graphiques.
                </p>
            </div>
        </div>
    </div>

    <!-- Bonnes pratiques -->
    <div class="card" style="background: #f0fdf4; border-left: 4px solid #10b981;">
        <h3 style="color: #065f46; margin-bottom: 1.5rem;">âœ¨ Bonnes Pratiques</h3>
        
        <ul style="color: #064e3b; line-height: 2;">
            <li>âœ… <strong>VÃ©rifier la cohÃ©rence</strong> des montants avant soumission</li>
            <li>âœ… <strong>Joindre les documents justificatifs</strong> aux fiches importantes</li>
            <li>âœ… <strong>Valider rÃ©guliÃ¨rement</strong> les donnÃ©es SIGOBE importÃ©es</li>
            <li>âœ… <strong>Exporter les rapports</strong> pour archivage et audit</li>
            <li>âœ… <strong>Respecter les phases budgÃ©taires</strong> (Ã‰laboration â†’ ExÃ©cution â†’ ClÃ´ture)</li>
            <li>âœ… <strong>Maintenir la structure hiÃ©rarchique</strong> Ã  jour dans les rÃ©fÃ©rentiels</li>
        </ul>
    </div>

</div>
{% endblock %}

